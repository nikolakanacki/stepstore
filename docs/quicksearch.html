<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Documentation Modules stepstorestepstore-step-clearstepstore-step-dropstepstore-step-insertstepstore-step-querystepstore-step-removestepstore-step-sortstepstore-step-update Classes StepStoreClientStepStoreInterfaceStepStoreServer Externals config Modules Classes StepStoreClient StepStoreInterface StepStoreServer × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-05-12T15:53:27+02:00 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Modules stepstorestepstore-step-clearstepstore-step-dropstepstore-step-insertstepstore-step-querystepstore-step-removestepstore-step-sortstepstore-step-update Classes StepStoreClientStepStoreInterfaceStepStoreServer Externals config Classes Classes StepStoreClient StepStoreInterface StepStoreServer × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-05-12T15:53:27+02:00 using the DocStrap template. "},"externals.list.html":{"id":"externals.list.html","title":"Externals","body":" Documentation Modules stepstorestepstore-step-clearstepstore-step-dropstepstore-step-insertstepstore-step-querystepstore-step-removestepstore-step-sortstepstore-step-update Classes StepStoreClientStepStoreInterfaceStepStoreServer Externals config Externals Classes StepStoreClient StepStoreInterface StepStoreServer × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-05-12T15:53:27+02:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Modules stepstorestepstore-step-clearstepstore-step-dropstepstore-step-insertstepstore-step-querystepstore-step-removestepstore-step-sortstepstore-step-update Classes StepStoreClientStepStoreInterfaceStepStoreServer Externals config StepStore Socket based JSON messaging system written for NodeJS. Checkout the API docs for full reference, and the code at nikolakanacki/json-bottle for implementation details. Features Simple API Utilizing ES6 classes Auto-reconnect clients Implements both fire-and-forget and request-response concepts Middleware system similar to Express Easily extendable Fast InstallUsing yarn: yarn add nikolakanacki/json-bottleUsing npm: npm install --save nikolakanacki/json-bottleRun testsnpm testUsage examplesCheckout the docs for the main components (classes): JSONBottleServer JSONBottleClient JSONBottleInterface JSONBottleMessage Serverconst HOST = 'localhost'; const PORT = 8008; const JSONBottle = require('json-bottle'); const server = new JSONBottle.Server(); server.on('connect', (socket) =&gt; { console.log(socket._id); // &gt; Socket id (UUIDv4) }); server.use('some-request-path', (message, next) =&gt; { console.log(message.body); // &gt; { some: &quot;Request data&quot; } message.respond({ some: &quot;Response data&quot; }); }); server.use('some-message-path', (message, next) =&gt; { console.log(message.body); // &gt; { some: &quot;Message data&quot; } }); server.start(PORT, HOST);Clientconst HOST = 'localhost'; const PORT = 8008; const JSONBottle = require('json-bottle'); const client = new JSONBottle.Client(); client.once('started', () =&gt; { client .request('some-request-path', { some: &quot;Request data&quot; }) .then((message) =&gt; { console.log(message.body); // &gt; { some: &quot;Response data&quot; } }); client.send('some-message-path', { some: 'Message body' }); }); client.start(PORT, HOST);InterfaceYou can use the JSONBottleInterface class to implement your own client and server provider. The main method to look at is JSONBottleInterface.setupSocket. For more info checkout the API docs and the code. Roadmap Write examples Make TLSServer and TLSClient classes with boilerplate LicenseMIT License Copyright (c) 2017 Nikola Kanački Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the &quot;Software&quot;), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-05-12T15:53:27+02:00 using the DocStrap template. "},"JSONBottleInterface-external_config.html":{"id":"JSONBottleInterface-external_config.html","title":"External: config","body":" Documentation Modules stepstorestepstore-step-clearstepstore-step-dropstepstore-step-insertstepstore-step-querystepstore-step-removestepstore-step-sortstepstore-step-update Classes StepStoreClientStepStoreInterfaceStepStoreServer Externals config External: config config See: https://nikolakanacki.github.io/json-bottle/JSONBottleInterface.html#~config × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-05-12T15:53:27+02:00 using the DocStrap template. "},"module-stepstore.html":{"id":"module-stepstore.html","title":"Module: stepstore","body":" Documentation Modules stepstorestepstore-step-clearstepstore-step-dropstepstore-step-insertstepstore-step-querystepstore-step-removestepstore-step-sortstepstore-step-update Classes StepStoreClientStepStoreInterfaceStepStoreServer Externals config Module: stepstore StepStore Members &lt;static&gt; Client Properties: Name Type Description Client StepStoreClient Client class &lt;static&gt; Server Properties: Name Type Description Server StepStoreServer Server class &lt;static&gt; utils Properties: Name Type Description utils Object StepStore utilities × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-05-12T15:53:27+02:00 using the DocStrap template. "},"module-stepstore-step-clear.html":{"id":"module-stepstore-step-clear.html","title":"Module: stepstore-step-clear","body":" Documentation Modules stepstorestepstore-step-clearstepstore-step-dropstepstore-step-insertstepstore-step-querystepstore-step-removestepstore-step-sortstepstore-step-update Classes StepStoreClientStepStoreInterfaceStepStoreServer Externals config Module: stepstore-step-clear CLEAR Clear current buffer array Methods &lt;static&gt; execute(store, buffer) Execute insert Parameters: Name Type Description store StepStoreServer Store to execute on buffer Array The array of collected documents that will be returned to the client Returns: - Modified buffer Type Array × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-05-12T15:53:27+02:00 using the DocStrap template. "},"module-stepstore-step-drop.html":{"id":"module-stepstore-step-drop.html","title":"Module: stepstore-step-drop","body":" Documentation Modules stepstorestepstore-step-clearstepstore-step-dropstepstore-step-insertstepstore-step-querystepstore-step-removestepstore-step-sortstepstore-step-update Classes StepStoreClientStepStoreInterfaceStepStoreServer Externals config Module: stepstore-step-drop DROP Drop single collection Methods &lt;static&gt; execute(store, buffer, step) Execute drop Parameters: Name Type Description store StepStoreServer Store to execute on buffer Array The array of collected documents that will be returned to the client step stepstore-step-drop~data Step data Returns: - Modified buffer Type array × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-05-12T15:53:27+02:00 using the DocStrap template. "},"module-stepstore-step-insert.html":{"id":"module-stepstore-step-insert.html","title":"Module: stepstore-step-insert","body":" Documentation Modules stepstorestepstore-step-clearstepstore-step-dropstepstore-step-insertstepstore-step-querystepstore-step-removestepstore-step-sortstepstore-step-update Classes StepStoreClientStepStoreInterfaceStepStoreServer Externals config Module: stepstore-step-insert INSERT Insert specified documents to a single collection and possibly populate the buffer Methods &lt;static&gt; execute(store, buffer, step) Execute insert Parameters: Name Type Description store StepStoreServer Store to execute on buffer Array The array of collected documents that will be returned to the client step stepstore-step-insert~data Step data Returns: - Modified buffer Type Array × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-05-12T15:53:27+02:00 using the DocStrap template. "},"module-stepstore-step-query.html":{"id":"module-stepstore-step-query.html","title":"Module: stepstore-step-query","body":" Documentation Modules stepstorestepstore-step-clearstepstore-step-dropstepstore-step-insertstepstore-step-querystepstore-step-removestepstore-step-sortstepstore-step-update Classes StepStoreClientStepStoreInterfaceStepStoreServer Externals config Module: stepstore-step-query QUERY Find documents selecting and executing a query search Methods &lt;static&gt; execute(store, buffer, step, date) Execute insert Parameters: Name Type Description store StepStoreServer Store to execute on buffer Array The array of collected documents that will be returned to the client step stepstore-step-query~data Step data date Date Date to use when accessing documents Returns: - Modified buffer Type array × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-05-12T15:53:27+02:00 using the DocStrap template. "},"module-stepstore-step-remove.html":{"id":"module-stepstore-step-remove.html","title":"Module: stepstore-step-remove","body":" Documentation Modules stepstorestepstore-step-clearstepstore-step-dropstepstore-step-insertstepstore-step-querystepstore-step-removestepstore-step-sortstepstore-step-update Classes StepStoreClientStepStoreInterfaceStepStoreServer Externals config Module: stepstore-step-remove REMOVE Remove documents currently found in the buffer Methods &lt;static&gt; execute(store, buffer, step) Execute insert Parameters: Name Type Description store StepStoreServer Store to execute on buffer Array The array of collected documents that will be returned to the client step stepstore-step-remove~data Step data Returns: - Modified buffer Type array × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-05-12T15:53:27+02:00 using the DocStrap template. "},"module-stepstore-step-sort.html":{"id":"module-stepstore-step-sort.html","title":"Module: stepstore-step-sort","body":" Documentation Modules stepstorestepstore-step-clearstepstore-step-dropstepstore-step-insertstepstore-step-querystepstore-step-removestepstore-step-sortstepstore-step-update Classes StepStoreClientStepStoreInterfaceStepStoreServer Externals config Module: stepstore-step-sort SORT Sort documents in buffer by defined criterias Methods &lt;static&gt; execute(store, buffer, step, date) Execute insert Parameters: Name Type Description store StepStoreServer Store to execute on buffer Array The array of collected documents that will be returned to the client step stepstore-step-sort~data Step data date Date Date to use when accessing documents Returns: - Modified buffer Type array × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-05-12T15:53:27+02:00 using the DocStrap template. "},"module-stepstore-step-update.html":{"id":"module-stepstore-step-update.html","title":"Module: stepstore-step-update","body":" Documentation Modules stepstorestepstore-step-clearstepstore-step-dropstepstore-step-insertstepstore-step-querystepstore-step-removestepstore-step-sortstepstore-step-update Classes StepStoreClientStepStoreInterfaceStepStoreServer Externals config Module: stepstore-step-update UPDATE Update documents from the buffer. If the buffer has not been removed by any of the previous steps, documents found in the buffer are referenced from the collection, and will update in both places. Methods &lt;static&gt; execute(store, buffer, step, date) Execute insert Parameters: Name Type Description store StepStoreServer Store to execute on buffer Array The array of collected documents that will be returned to the client step stepstore-step-update~data Step data date Date Date to use when accessing documents Returns: - Modified buffer Type array × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-05-12T15:53:27+02:00 using the DocStrap template. "},"StepStoreClient.html":{"id":"StepStoreClient.html","title":"Class: StepStoreClient","body":" Documentation Modules stepstorestepstore-step-clearstepstore-step-dropstepstore-step-insertstepstore-step-querystepstore-step-removestepstore-step-sortstepstore-step-update Classes StepStoreClientStepStoreInterfaceStepStoreServer Externals config Class: StepStoreClient StepStoreClient StepStore Client new StepStoreClient( [config]) Constructor Parameters: Name Type Argument Description config external:JSONBottleInterface~config &lt;optional&gt; Underlying JSONBottleInterface configuration Methods walk() Walk × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-05-12T15:53:27+02:00 using the DocStrap template. "},"StepStoreInterface.html":{"id":"StepStoreInterface.html","title":"Class: StepStoreInterface","body":" Documentation Modules stepstorestepstore-step-clearstepstore-step-dropstepstore-step-insertstepstore-step-querystepstore-step-removestepstore-step-sortstepstore-step-update Classes StepStoreClientStepStoreInterfaceStepStoreServer Externals config Class: StepStoreInterface StepStoreInterface StepStore Interface new StepStoreInterface(IfaceClass [, config]) The Constructor Parameters: Name Type Argument Description IfaceClass external:JSONBottleInterface Class that extends JSONBottleInterface whish is used to create the underlying communication interface config external:JSONBottleInterface~config &lt;optional&gt; Underlying JSONBottleInterface configuration Members iface :external:JSONBottleInterface Undelying communication interface Type: external:JSONBottleInterface Methods &lt;static&gt; uuid() Generate id Returns: - Freshly generated UUIDv4 Type string addStepType(step) Register new step type Parameters: Name Type Description step StepStoreInterface~StepType Step to register Returns: - Self Type StepStoreInterface removeStepType(type) Remove step type Parameters: Name Type Description type string Type of the step to remove Returns: - Self Type StepStoreInterface start(port, host) Start the interface Parameters: Name Type Description port number Port to listen to host string Host to bind to Returns: Type StepStoreInterface stop( [cb]) Stop the interface Parameters: Name Type Argument Description cb function &lt;optional&gt; Callback invoked once the interface has fully stopped Returns: Type StepStoreInterface Type Definitions step Properties: Name Type Description type string Step type (step name) data Object Data passed to the step callback stepCallback(store, buffer, step, date) Parameters: Name Type Description store Object Store that is executing this step buffer Array The array of collected documents that will be returned to the client step Object Data passed with the step that invoked the execution date Date Date used for accessing the document (date of the walk) Returns: - Modified buffer Type Array StepType Properties: Name Type Description type string Step type (step name) execute StepStoreInterface~stepCallback Step execution × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-05-12T15:53:27+02:00 using the DocStrap template. "},"StepStoreServer.html":{"id":"StepStoreServer.html","title":"Class: StepStoreServer","body":" Documentation Modules stepstorestepstore-step-clearstepstore-step-dropstepstore-step-insertstepstore-step-querystepstore-step-removestepstore-step-sortstepstore-step-update Classes StepStoreClientStepStoreInterfaceStepStoreServer Externals config Class: StepStoreServer StepStoreServer StepStore Server new StepStoreServer( [config]) Constructor Parameters: Name Type Argument Description config external:JSONBottleInterface~config &lt;optional&gt; Underlying JSONBottleInterface configuration Members collections :Object Collections Type: Object Methods ensureCollection(name) Ensure that collection exists Parameters: Name Type Description name string Collection name Returns: - The ensured collection Type Object walk() Execute specified steps Parameters: Name Type Description ...steps StepStoreInterface~step Steps to execute Returns: - Walk result Type StepStoreServer~result Type Definitions result Properties: Name Type Description buffer array Collected documents from executing the steps error Error | null Error that interrupted the walk × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-05-12T15:53:27+02:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
